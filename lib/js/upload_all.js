!function(){function a(){if(document.querySelectorAll("img").forEach(function(a){if(!(a.dataset.insta_upload_ext_elem||(a.dataset.insta_upload_ext_elem="1",(a.width||0)*(a.height||0)<8e4))){var c=a.src;if((!c||!c.length)&&a.parentElement&&a.parentElement.tagName&&"picture"==a.parentElement.tagName.toLowerCase()){var d=a.parentElement.querySelector("source[srcset]"),e=d.getAttribute("srcset");e&&e.length&&(c=e)}if(c){b=!0;var f=a.parentNode,g=document.createElement("div");g.className="insta_img_icon_ext_el";var h=document.createElement("div");h.className="insta_img_icon_wrap_ext_el",h.title="Upload to Instagram",h.style.top=a.offsetTop+15+"px",h.style.left=a.offsetLeft+15+"px",h.appendChild(g),f.appendChild(h),f.classList.add("insta_img_parent_ext_el");var i=0,j=2e3;g.addEventListener("click",function(a){a.stopPropagation(),a.preventDefault();var b=Date.now();if(!(i+j>b)){i=b;var d=this;d.classList.add("preloader2"),setTimeout(function(){d.classList.remove("preloader2")},2e3),chrome.runtime.sendMessage({action:"upload_external_link",link:c})}})}}}),b&&!c){var a=document.createElement("style");a.type="text/css",document.head.appendChild(a);var d=a.sheet;d.insertRule(".insta_img_parent_ext_el:hover >.insta_img_icon_wrap_ext_el{display: inline-block;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_wrap_ext_el{display: none;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_wrap_ext_el{cursor: pointer;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_wrap_ext_el{position: absolute;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_wrap_ext_el{z-Index: 99;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_wrap_ext_el{background-color: white;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_wrap_ext_el{padding: 5px;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_wrap_ext_el{transition: all 0.3s ease-in-out 0.2s;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_wrap_ext_el{border-radius: 17px;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_wrap_ext_el{opacity: 0.5;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_wrap_ext_el:hover{opacity: 1;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_ext_el{width: 25px;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_ext_el{height: 25px;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_ext_el{background-position: center;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_ext_el{background-repeat: no-repeat;}",0),d.insertRule(".insta_img_parent_ext_el .insta_img_icon_ext_el{background-size: cover;}",0),d.insertRule('.insta_img_parent_ext_el .insta_img_icon_ext_el{background-image: url("chrome-extension://'+chrome.runtime.id+'/img/upload_external.svg");}',0),d.insertRule('.insta_img_parent_ext_el .insta_img_icon_ext_el.preloader2{background-image: url("chrome-extension://'+chrome.runtime.id+'/img/preloader2.gif");}',0),c=!0}}if(!window.insta_upload_ext_el_ex){window.insta_upload_ext_el_ex=1;var b=!1,c=!1;a(),setInterval(a,2e3)}}();